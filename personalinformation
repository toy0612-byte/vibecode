<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°œì¸ì •ë³´ ìˆ˜í˜¸ëŒ€ í€´ì¦ˆ!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Jua', sans-serif; /* ê·€ì—¬ìš´ í°íŠ¸ ì ìš© */
            background-color: #f0f9ff;
            overflow-x: hidden;
        }
        .card-shadow {
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .btn-press:active {
            transform: scale(0.95);
        }
        .emoji-bounce {
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(-10%); }
            50% { transform: translateY(10%); }
        }
        /* ì»¨í˜í‹° ìº”ë²„ìŠ¤ ìŠ¤íƒ€ì¼ */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-blue-50 selection:bg-yellow-200">

    <canvas id="confetti-canvas"></canvas>

    <div id="game-container" class="w-full max-w-md p-6 mx-auto bg-white border-4 border-blue-300 rounded-3xl card-shadow relative z-10">
        
        <!-- 1. ì‹œì‘ í™”ë©´ -->
        <div id="start-screen" class="text-center py-10">
            <div class="text-6xl mb-4 emoji-bounce">ğŸ›¡ï¸</div>
            <h1 class="text-4xl text-blue-600 mb-2">ê°œì¸ì •ë³´ ìˆ˜í˜¸ëŒ€</h1>
            <p class="text-gray-500 text-lg mb-8">ì†Œì¤‘í•œ ì •ë³´ë¥¼ ì§€ì¼œë¼!</p>
            
            <div class="bg-yellow-100 p-4 rounded-xl mb-8 text-left">
                <p class="text-gray-700 text-lg mb-2">ğŸ“¢ <strong>ê²Œì„ ë°©ë²•</strong></p>
                <ul class="list-disc list-inside text-gray-600 text-base">
                    <li>ì´ 5ë¬¸ì œê°€ ë‚˜ì™€ìš”.</li>
                    <li>ë‚˜ë§Œì˜ ë¹„ë°€ ì •ë³´ë©´ <strong>ê°œì¸ì •ë³´</strong>!</li>
                    <li>ëˆ„êµ¬ë‚˜ ì•„ëŠ” ì •ë³´ë©´ <strong>ì¼ë°˜ì •ë³´</strong>!</li>
                </ul>
            </div>

            <button onclick="startGame()" class="w-full bg-blue-500 hover:bg-blue-600 text-white text-2xl py-4 rounded-2xl btn-press transition-colors shadow-lg border-b-4 border-blue-700">
                ê²Œì„ ì‹œì‘í•˜ê¸° ğŸš€
            </button>
        </div>

        <!-- 2. í€´ì¦ˆ í™”ë©´ -->
        <div id="quiz-screen" class="hidden text-center py-4 fade-in">
            <div class="flex justify-between items-center mb-6 px-2">
                <span class="text-blue-500 text-xl">ë¬¸ì œ <span id="q-current">1</span> / 5</span>
                <span class="text-yellow-500 text-xl">ì ìˆ˜ <span id="score">0</span>ì </span>
            </div>

            <div class="bg-gray-100 rounded-2xl p-8 mb-8 h-48 flex flex-col items-center justify-center border-2 border-gray-200">
                <div id="q-emoji" class="text-5xl mb-4">ğŸ </div>
                <h2 id="q-text" class="text-3xl text-gray-800 break-keep">ìš°ë¦¬ ì§‘ ì£¼ì†Œ</h2>
            </div>

            <div class="grid grid-cols-2 gap-4 mb-6">
                <button onclick="checkAnswer('personal')" class="bg-red-400 hover:bg-red-500 text-white py-4 rounded-xl text-xl btn-press shadow-md border-b-4 border-red-600 transition-colors flex flex-col items-center justify-center h-32">
                    <span class="text-3xl mb-1">ğŸ”’</span>
                    ê°œì¸ì •ë³´
                </button>
                <button onclick="checkAnswer('general')" class="bg-green-400 hover:bg-green-500 text-white py-4 rounded-xl text-xl btn-press shadow-md border-b-4 border-green-600 transition-colors flex flex-col items-center justify-center h-32">
                    <span class="text-3xl mb-1">ğŸ“¢</span>
                    ì¼ë°˜ì •ë³´
                </button>
            </div>

            <!-- ì •ë‹µ/ì˜¤ë‹µ í”¼ë“œë°± ì˜ì—­ -->
            <div id="feedback" class="hidden mt-4 p-4 rounded-xl bg-blue-50 border-2 border-blue-100">
                <h3 id="feedback-title" class="text-2xl font-bold mb-2">ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰</h3>
                <p id="feedback-desc" class="text-gray-600 text-lg">ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ í•¨ë¶€ë¡œ ì•Œë ¤ì£¼ë©´ ì•ˆ ë¼ìš”.</p>
                <button onclick="nextQuestion()" class="mt-4 bg-blue-500 text-white px-6 py-2 rounded-lg text-lg hover:bg-blue-600 transition">ë‹¤ìŒ ë¬¸ì œ â¡ï¸</button>
            </div>
        </div>

        <!-- 3. ê²°ê³¼ í™”ë©´ -->
        <div id="result-screen" class="hidden text-center py-8 fade-in">
            <div id="result-emoji" class="text-6xl mb-4 emoji-bounce">ğŸ†</div>
            <h2 id="result-title" class="text-4xl text-blue-600 mb-4">ì°¸ ì˜í–ˆì–´ìš”!</h2>
            
            <div class="bg-white border-2 border-yellow-300 rounded-2xl p-6 mb-8 shadow-inner">
                <p class="text-gray-500 mb-2">ë‚˜ì˜ ì ìˆ˜ëŠ”?</p>
                <p class="text-5xl font-bold text-yellow-500 mb-2"><span id="final-score">100</span>ì </p>
                <p id="result-message" class="text-gray-600 text-lg">ê°œì¸ì •ë³´ ë°•ì‚¬ë‹˜ì´ì‹œêµ°ìš”!</p>
            </div>

            <div id="perfect-reward" class="hidden mb-6">
                <svg class="w-32 h-32 mx-auto text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.633 1.24l-1.928.55a1 1 0 01-1.151-.384l-2.028-3.007a.998.998 0 01-.193-.585v-5.8zM8 4a1 1 0 00-1 1v1.323l-3.954 1.582-1.599-.8a1 1 0 00-.894 1.79l1.233.616-1.738 5.42a1 1 0 00.285 1.05A3.989 3.989 0 004 15c.95 0 1.832-.365 2.667-1.019a1 1 0 00.633 1.24l1.928.55a1 1 0 001.151-.384l2.028-3.007a.998.998 0 00.193-.585V5a1 1 0 00-1-1H8z" clip-rule="evenodd"/>
                </svg>
                <p class="text-yellow-600 font-bold mt-2">ìµœê³ ì˜ ìˆ˜í˜¸ëŒ€ ë±ƒì§€ íšë“!</p>
            </div>

            <button onclick="location.reload()" class="w-full bg-blue-500 hover:bg-blue-600 text-white text-2xl py-3 rounded-2xl btn-press shadow-lg border-b-4 border-blue-700 transition-colors">
                ë‹¤ì‹œ í•˜ê¸° ğŸ”„
            </button>
        </div>
    </div>

    <script>
        // í€´ì¦ˆ ë°ì´í„° (ë¬¸ì œ 5ê°œ)
        const quizData = [
            {
                text: "ìš°ë¦¬ ì§‘ í˜„ê´€ ë¹„ë°€ë²ˆí˜¸",
                emoji: "ğŸ”¢",
                type: "personal",
                desc: "ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ë¥¸ ì‚¬ëŒì´ ì•Œë©´ ìš°ë¦¬ ì§‘ì— ë“¤ì–´ì˜¬ ìˆ˜ ìˆì–´ìš”! ì ˆëŒ€ ì•Œë ¤ì£¼ë©´ ì•ˆ ë¼ìš”."
            },
            {
                text: "ì˜¤ëŠ˜ì˜ ë‚ ì”¨ (ë§‘ìŒ)",
                emoji: "â˜€ï¸",
                type: "general",
                desc: "ë‚ ì”¨ëŠ” ëˆ„êµ¬ë‚˜ ë‰´ìŠ¤ë‚˜ í•˜ëŠ˜ì„ ë³´ë©´ ì•Œ ìˆ˜ ìˆëŠ” ì •ë³´ì˜ˆìš”."
            },
            {
                text: "ë‚´ ì´ë¦„ê³¼ ì–¼êµ´ ì‚¬ì§„",
                emoji: "ğŸ“¸",
                type: "personal",
                desc: "ì‚¬ì§„ê³¼ ì´ë¦„ì€ 'ë‚˜'ë¥¼ ì•Œì•„ë³¼ ìˆ˜ ìˆëŠ” ì•„ì£¼ ì¤‘ìš”í•œ ê°œì¸ì •ë³´ì˜ˆìš”."
            },
            {
                text: "ì„¸ì¢…ëŒ€ì™•ë‹˜ ì´ì•¼ê¸°",
                emoji: "ğŸ‘‘",
                type: "general",
                desc: "ìœ„ì¸ì „ì´ë‚˜ ì±…ì— ë‚˜ì˜¤ëŠ” ì˜›ë‚ ì´ì•¼ê¸°ëŠ” ëˆ„êµ¬ë‚˜ ì•Œ ìˆ˜ ìˆëŠ” ì¼ë°˜ì •ë³´ì˜ˆìš”."
            },
            {
                text: "ì—„ë§ˆ, ì•„ë¹  ì „í™”ë²ˆí˜¸",
                emoji: "ğŸ“±",
                type: "personal",
                desc: "ê°€ì¡±ì˜ ì „í™”ë²ˆí˜¸ëŠ” ë‚˜ìœ ì‚¬ëŒì´ ì•Œë©´ ì¥ë‚œ ì „í™”ë¥¼ ê±¸ ìˆ˜ë„ ìˆì–´ìš”."
            }
        ];

        let currentQ = 0;
        let score = 0;
        let isAnswering = false;

        // í™”ë©´ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        
        const qCurrentEl = document.getElementById('q-current');
        const scoreEl = document.getElementById('score');
        const qTextEl = document.getElementById('q-text');
        const qEmojiEl = document.getElementById('q-emoji');
        
        const feedbackEl = document.getElementById('feedback');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackDesc = document.getElementById('feedback-desc');

        // ê²Œì„ ì‹œì‘
        function startGame() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            loadQuestion();
        }

        // ë¬¸ì œ ë¶ˆëŸ¬ì˜¤ê¸°
        function loadQuestion() {
            isAnswering = true;
            feedbackEl.classList.add('hidden');
            
            const data = quizData[currentQ];
            qCurrentEl.innerText = currentQ + 1;
            qTextEl.innerText = data.text;
            qEmojiEl.innerText = data.emoji;
        }

        // ì •ë‹µ í™•ì¸
        function checkAnswer(answerType) {
            if (!isAnswering) return;
            isAnswering = false;

            const data = quizData[currentQ];
            feedbackEl.classList.remove('hidden');

            if (data.type === answerType) {
                // ì •ë‹µ
                score += 20; // 100ì  ë§Œì  ê¸°ì¤€ 1ë¬¸ì œë‹¹ 20ì 
                scoreEl.innerText = score;
                feedbackTitle.innerText = "ì •ë‹µì…ë‹ˆë‹¤! â­•";
                feedbackTitle.className = "text-2xl font-bold mb-2 text-green-600";
            } else {
                // ì˜¤ë‹µ
                feedbackTitle.innerText = "ì•„ê¹Œì›Œìš”! âŒ";
                feedbackTitle.className = "text-2xl font-bold mb-2 text-red-500";
            }
            feedbackDesc.innerText = data.desc;
        }

        // ë‹¤ìŒ ë¬¸ì œë¡œ
        function nextQuestion() {
            currentQ++;
            if (currentQ < quizData.length) {
                loadQuestion();
            } else {
                showResult();
            }
        }

        // ê²°ê³¼ ë³´ì—¬ì£¼ê¸°
        function showResult() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
            const finalScoreEl = document.getElementById('final-score');
            const resultMsg = document.getElementById('result-message');
            const resultEmoji = document.getElementById('result-emoji');
            
            finalScoreEl.innerText = score;

            if (score === 100) {
                resultEmoji.innerText = "ğŸ‰";
                document.getElementById('result-title').innerText = "ì™„ë²½í•´ìš”!";
                resultMsg.innerText = "ê°œì¸ì •ë³´ ìˆ˜í˜¸ëŒ€ì¥ìœ¼ë¡œ ì„ëª…í•©ë‹ˆë‹¤!";
                document.getElementById('perfect-reward').classList.remove('hidden');
                startConfetti(); // 100ì ì¼ ë•Œë§Œ ì»¨í˜í‹° ë°œì‚¬!
            } else if (score >= 60) {
                resultEmoji.innerText = "ğŸ‘";
                document.getElementById('result-title').innerText = "ì˜í–ˆì–´ìš”!";
                resultMsg.innerText = "ì¡°ê¸ˆë§Œ ë” ê³µë¶€í•˜ë©´ ì™„ë²½í•  ê±°ì˜ˆìš”!";
            } else {
                resultEmoji.innerText = "ğŸ’ª";
                document.getElementById('result-title').innerText = "í˜ë‚´ì„¸ìš”!";
                resultMsg.innerText = "ë‹¤ì‹œ í•œë²ˆ ë„ì „í•´ì„œ 100ì ì„ ë°›ì•„ë´ìš”!";
            }
        }

        // --- ì»¨í˜í‹°(ê½ƒê°€ë£¨) íš¨ê³¼ ë¡œì§ ---
        function startConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const pieces = [];
            const numberOfPieces = 150;
            const colors = ['#f00', '#0f0', '#00f', '#ff0', '#0ff', '#f0f'];

            for (let i = 0; i < numberOfPieces; i++) {
                pieces.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    rotation: Math.random() * 360,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    size: Math.random() * 10 + 5,
                    speed: Math.random() * 3 + 2,
                    drift: Math.random() * 2 - 1
                });
            }

            function update() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                pieces.forEach(p => {
                    ctx.save();
                    ctx.fillStyle = p.color;
                    ctx.translate(p.x + p.size / 2, p.y + p.size / 2);
                    ctx.rotate(p.rotation * Math.PI / 180);
                    ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size);
                    ctx.restore();

                    p.y += p.speed;
                    p.x += p.drift;
                    p.rotation += p.speed;

                    if (p.y > canvas.height) {
                        p.y = -20;
                        p.x = Math.random() * canvas.width;
                    }
                });
                
                requestAnimationFrame(update);
            }
            update();
        }

        // ì°½ í¬ê¸° ì¡°ì ˆ ì‹œ ìº”ë²„ìŠ¤ ë¦¬ì‚¬ì´ì§•
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('confetti-canvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

    </script>
</body>
</html>
